# Starter pipeline

# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml


trigger:
- master



# File: simple-param.yml
parameters:
- name: yesNo # name of the parameter; required
  type: boolean # data type of the parameter; required
  default: false

variables:
  ${{ if eq(parameters.yesNo, true) }}:
    testVar: noWayItWorked

pool:
  vmImage: windows-latest


steps:

  #- script: echo ${{ parameters.yesNo}}
   #         echo $(testVar)
    #displayName: 'Run a one-line script'

- task: PowerShell@2
  inputs:
    targetType: 'inline'
    script: |
      Get-TimeZone
      Set-TimeZone "Pacific Standard Time"
      Get-TimeZone
- task: PowerShell@2
  inputs:
    targetType: 'inline'
    script: 'Get-TimeZone'
#- script: |
#    echo Add other tasks to build, test, and deploy your project.
#    echo See https://aka.ms/yaml
#  displayName: 'Run a multi-line script'
- task: AzureKeyVault@2
  inputs:
    azureSubscription: 'TahomaCrest'
    KeyVaultName: 'TahomaKV'
    SecretsFilter: '*'
    RunAsPreJob: false